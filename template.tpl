___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "WebMinds Cookie Consent Banner",
  "brand": {
    "id": "brand_dummy",
    "displayName": "WebMinds",
    "thumbnail": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpDNTMzRUVEOENFNkExMUVFQUIzMEE0NTVDNzVEQTczRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpDNTMzRUVEOUNFNkExMUVFQUIzMEE0NTVDNzVEQTczRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkM1MzNFRUQ2Q0U2QTExRUVBQjMwQTQ1NUM3NURBNzNGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkM1MzNFRUQ3Q0U2QTExRUVBQjMwQTQ1NUM3NURBNzNGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+tTLbNAAAH2BJREFUeNrkXQlc1VX2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\u003d"
  },
  "description": "Load a consent banner that allows users to express their preferences. Update consent states (consent mode v2) based on their choices and trigger a custom event whenever states are loaded or updated.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "brandName",
    "displayName": "Brand Name",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY",
        "enablingConditions": [],
        "errorMessage": "This value cannot be empty"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "consentEventName",
    "displayName": "Consent Event Name",
    "simpleValueType": true,
    "help": "Send this event when consent states load or set, avoiding conflicts with Google or custom events. Remember to create the custom event first.",
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "policyURL",
    "displayName": "Cookie Policy URL (optional)",
    "simpleValueType": true,
    "help": "If the custom consent banner field is left blank, the default cookie policy banner will be used."
  },
  {
    "type": "GROUP",
    "name": "themeSettings",
    "displayName": "Theme Settings (optional)",
    "groupStyle": "ZIPPY_CLOSED",
    "subParams": [
      {
        "type": "TEXT",
        "name": "themeColor",
        "displayName": "Theme Color",
        "simpleValueType": true
      },
      {
        "type": "TEXT",
        "name": "textColor",
        "displayName": "Text Color",
        "simpleValueType": true
      }
    ]
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const log = require('logToConsole');
const dataLayerPush = require('createQueue')('dataLayer');
const injectScript = require('injectScript');
const setDefaultConsentState = require('setDefaultConsentState');
const updateConsentState = require('updateConsentState');
const getCookieValues = require('getCookieValues');
const setCookie = require('setCookie');
const callInWindow = require('callInWindow');
const COOKIE_NAME = '__wmConsentState';

const defaultData = {
  'ad_storage': 'denied',
  'ad_user_data': 'denied',
  'ad_personalization': 'denied',
  'analytics_storage': 'denied',
  'functionality_storage': 'denied',
  'personalization_storage': 'denied',
  'security_storage': 'denied',
  'region': ['AT', 'BE', 'BG', 'HR', 'CY', 'CZ', 'DK', 'EE', 'FI', 'FR', 'DE', 'GR', 'HU', 'IS', 'IE', 'IT', 'LV', 'LI', 'LT', 'LU', 'MT', 'NL', 'NO', 'PL', 'PT', 'RO', 'SK', 'SI', 'ES', 'SE', 'CH', 'GB', 'US-CA'],
  'wait_for_update': 500
};

const onUserConsent = (consent) => {
  let cookieVal = '';
  const consentModeStates = {};
  for (let key in defaultData) {
    if (key !== 'wait_for_update') {
      const val = consent[key];
      consentModeStates[key] = val ? val : 'denied';
      cookieVal += consentModeStates[key] === 'granted' ? 1 : 0;
    }
  }
  setCookie(COOKIE_NAME, cookieVal, {
    'path': '/',
    'max-age': 8640000
  });
  updateConsentState(consentModeStates);
  dataLayerPush({
    event: data.consentEventName,
    adsAccepted: consent.ad_storage,
    analyticsAccepted: consent.analytics_storage
  });
};

log('data =', data);

// Write default settings
setDefaultConsentState(defaultData);
dataLayerPush({
  ads_data_redaction: true,
  url_passthrough: true,
});

// Check for saved settings
const savedSettings = getCookieValues(COOKIE_NAME).toString();
if (savedSettings !== 'undefined' && savedSettings !== '') {
  const consentModeStates = {};
  let index = 0;
  for (let key in defaultData) {
    if (key !== 'wait_for_update') {
      const val = savedSettings.charAt(index);
      consentModeStates[key] = val ? 'granted' : 'denied';
    }
    index++;
  }
  onUserConsent(consentModeStates);
} else {
  // Load consent banner script
  const url = 'https://cdn.jsdelivr.net/gh/webminds-inc/consent/dist/consent.min.js';
  injectScript(url, function () {
      callInWindow(
          '__wmConsentInit',
          onUserConsent,
          data.brandName,
          data.policyURL,
          data.themeColor,
          data.textColor
      );
  }, data.gtmOnFailure, url);
}

data.gtmOnSuccess();


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_consent",
        "versionId": "1"
      },
      "param": [
        {
          "key": "consentTypes",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ad_storage"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ad_user_data"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "ad_personalization"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "analytics_storage"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "functionality_storage"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "personalization_storage"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "consentType"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "security_storage"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "__wmConsentInit"
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": false
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "dataLayer"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "get_cookies",
        "versionId": "1"
      },
      "param": [
        {
          "key": "cookieAccess",
          "value": {
            "type": 1,
            "string": "specific"
          }
        },
        {
          "key": "cookieNames",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "__wmConsentState"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "set_cookies",
        "versionId": "1"
      },
      "param": [
        {
          "key": "allowedCookies",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "name"
                  },
                  {
                    "type": 1,
                    "string": "domain"
                  },
                  {
                    "type": 1,
                    "string": "path"
                  },
                  {
                    "type": 1,
                    "string": "secure"
                  },
                  {
                    "type": 1,
                    "string": "session"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "__wmConsentState"
                  },
                  {
                    "type": 1,
                    "string": "*"
                  },
                  {
                    "type": 1,
                    "string": "*"
                  },
                  {
                    "type": 1,
                    "string": "any"
                  },
                  {
                    "type": 1,
                    "string": "any"
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://cdn.jsdelivr.net/gh/webminds-inc/consent/dist/*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios:
- name: Default Settings Sent
  code: |-
    const mockData = {
      // Mocked field values
      brandName: 'WebMinds',
      consentEventName: '__wmUserPrefUpdate',
      policyURL: '/cookie-policy/',
      themeColor: '#712cf9',
      textColor: '#575757'
    };

    // Call runCode to run the template's code.
    runCode(mockData);

    // Verify that the tag finished successfully.
    assertApi('setDefaultConsentState').wasCalledWith({
      'ad_storage': 'denied',
      'ad_user_data': 'denied',
      'ad_personalization': 'denied',
      'analytics_storage': 'denied',
      'functionality_storage': 'denied',
      'personalization_storage': 'denied',
      'security_storage': 'denied',
      'wait_for_update': 500
    });

    assertApi('gtmOnSuccess').wasCalled();


___NOTES___

Created on 2/22/2024, 3:32:06 PM


